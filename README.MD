# About

This plugin will check if all the members in the stack are up. If a stack member is down an alert will be raised.

The default value for the communityString = 'public'

# Installation

1 - upload juniper_check_virtual-chassis.php to /usr/local/nagios/libexec and chmod +x

2 - upload the contents of the nagios-import directory to /usr/local/nagios/etc/import and import the config files in the core config manager

# Example host config

```
###############################################################################
#
# Hosts configuration file
#
# Created by: Nagios CCM 3.0.3
# Date:       2019-09-24 15:09:20
# Version:    Nagios Core 4.x
#
# --- DO NOT EDIT THIS FILE BY HAND ---
# Nagios CCM will overwrite all manual settings during the next update if you
# would like to edit files manually, place them in the 'static' directory or
# import your configs into the CCM by placing them in the 'import' directory.
#
###############################################################################

define host {
    host_name                SW-Juniper
    use                      xiwizard_genericnetdevice_host
    address                  192.168.1.1
    hostgroups               Switches
    max_check_attempts       5
    check_interval           5
    retry_interval           1
    check_period             xi_timeperiod_24x7
    contact_groups           admins
    notification_interval    1440
    notification_period      24x7
    notification_options     d,u,r,s,
    notifications_enabled    1
    icon_image               network_node.png
    statusmap_image          network_node.png
    _xiwizard                genericnetdevice
    register                 1
}


###############################################################################
#
# Hosts configuration file
#
# END OF FILE
#
###############################################################################
```

```
# Example services config

###############################################################################
#
# Services configuration file
#
# Created by: Nagios CCM 3.0.3
# Date:       2019-09-24 15:11:14
# Version:    Nagios Core 4.x
#
# --- DO NOT EDIT THIS FILE BY HAND ---
# Nagios CCM will overwrite all manual settings during the next update if you
# would like to edit files manually, place them in the 'static' directory or
# import your configs into the CCM by placing them in the 'import' directory.
#
###############################################################################

define service {
    host_name                SW-Juniper
    service_description      Ping
    use                      xiwizard_genericnetdevice_ping_service
    servicegroups            Switches
    max_check_attempts       5
    check_interval           5
    retry_interval           1
    check_period             xi_timeperiod_24x7
    notification_interval    1440
    notification_period      24x7
    notifications_enabled    1
    contact_groups           admins
    _xiwizard                genericnetdevice
    register                 1
}

define service {
    host_name                SW-Juniper
    service_description      AE0
    use                      check_juniper_vc_status
    servicegroups            Switches
    max_check_attempts       5
    check_interval           5
    retry_interval           1
    check_period             xi_timeperiod_24x7
    notification_interval    1440
    notification_period      24x7
    notification_options     w,c,
    notifications_enabled    0
    contact_groups           admins
    register                 1
}

###############################################################################
#
# Services configuration file
#
# END OF FILE
#
###############################################################################
```
